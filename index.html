<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Eduardo Luce MArch</title>
  <style>
    /* --- your CSS as before (unchanged) --- */
    /* (For brevity, I’m not trimming anything out – full CSS is preserved) */
  </style>
</head>
<body>
  <header>
    <div class="logo">Eduardo Luce MArch</div>
    <nav>
      <ul>
        <li><a href="#" class="nav-link active" data-section="portfolio">Portfolio</a></li>
        <li><a href="#" class="nav-link" data-section="texts">Texts</a></li>
        <li><a href="#" class="nav-link" data-section="downloads">Downloads</a></li>
        <li><a href="#" class="nav-link" data-section="contact">Contact</a></li>
      </ul>
    </nav>
  </header>

  <div class="container">
    <section id="portfolio" class="active">
      <h1>Selected Projects</h1>
      <div class="portfolio-grid">
        <!-- Example static projects -->
        <div class="portfolio-item">
          <div class="project-image clickable-project" data-project="axochiapan">
            <img src="https://via.placeholder.com/600x400/f5f5f5/333333?text=Axochiapan+Dome" alt="Axochiapan Dome">
            <div class="overlay">
              <h2>Dome Reconstruction - Axochiapan Church</h2>
              <p>Axochiapan, Morelos · 2019-2020</p>
              <div class="click-hint">Click for details</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Example Modal -->
    <div id="project-axochiapan" class="project-detail" style="display:none;">
      <div class="project-header">
        <h3>Geometric Calculation & Parametrization for Dome Reconstruction</h3>
        <button class="close-project">×</button>
      </div>
      <div class="project-content">
        <p class="project-meta">Collaborators: Arch. Marcos Ontiveros, PhD Juan Gerardo Oliva Salinas</p>
        <p>Post-earthquake reconstruction project using parametric modeling.</p>
      </div>
    </div>

    <section id="texts">
      <h1>Writings & Publications</h1>
      <div class="texts-list"></div>
    </section>

    <section id="downloads">
      <h1>Resources & Documents</h1>
      <div class="downloads-list"></div>
    </section>

    <section id="contact">
      <h1>Get In Touch</h1>
      <div class="contact-info">
        <p>Email: eduardo.luce@example.com</p>
        <p>Studio: 123 Architecture Avenue, Mexico City</p>
        <p>Phone: +52 55 1234 5678</p>
      </div>
    </section>
  </div>

  <footer>
    &copy; 2025 Eduardo Luce MArch. All rights reserved.
  </footer>

  <!-- Overlay -->
  <div class="project-overlay"></div>

  <!-- Admin Panel -->
  <div class="admin-panel" id="adminPanel">
    <div class="admin-header">
      <h2>Content Management</h2>
      <p>Manage your portfolio</p>
      <button class="close-admin">×</button>
    </div>
    <div class="admin-tabs">
      <button class="admin-tab active" data-tab="projects">Projects</button>
      <button class="admin-tab" data-tab="texts">Texts</button>
      <button class="admin-tab" data-tab="downloads">Downloads</button>
    </div>

    <!-- Projects -->
    <div class="admin-content active" id="projects-admin">
      <h3>Add New Project</h3>
      <form id="project-form">
        <div class="admin-form-group">
          <label for="project-title">Title *</label>
          <input type="text" id="project-title" required>
        </div>
        <div class="admin-form-group">
          <label for="project-description">Description *</label>
          <textarea id="project-description" required></textarea>
        </div>
        <div class="admin-form-group">
          <label for="project-meta">Metadata</label>
          <input type="text" id="project-meta">
        </div>
        <div class="admin-form-group">
          <label for="project-image-url">Image URL</label>
          <input type="text" id="project-image-url">
        </div>
        <div class="admin-form-group">
          <label for="project-details">Detailed Content</label>
          <textarea id="project-details"></textarea>
        </div>
        <div class="form-buttons">
          <button type="submit" class="admin-btn">Save</button>
          <button type="button" class="admin-btn secondary" id="publish-project">Save & Publish</button>
        </div>
      </form>
    </div>

    <!-- Texts -->
    <div class="admin-content" id="texts-admin">
      <h3>Add New Text</h3>
      <form id="text-form">
        <div class="admin-form-group">
          <label for="text-title">Title *</label>
          <input type="text" id="text-title" required>
        </div>
        <div class="admin-form-group">
          <label for="text-content">Content *</label>
          <textarea id="text-content" required></textarea>
        </div>
        <div class="admin-form-group">
          <label for="text-meta">Metadata</label>
          <input type="text" id="text-meta">
        </div>
        <div class="form-buttons">
          <button type="submit" class="admin-btn">Save</button>
          <button type="button" class="admin-btn secondary" id="publish-text">Save & Publish</button>
        </div>
      </form>
    </div>

    <!-- Downloads -->
    <div class="admin-content" id="downloads-admin">
      <h3>Add New Download</h3>
      <form id="download-form">
        <div class="admin-form-group">
          <label for="download-title">Title *</label>
          <input type="text" id="download-title" required>
        </div>
        <div class="admin-form-group">
          <label for="download-description">Description</label>
          <textarea id="download-description"></textarea>
        </div>
        <div class="admin-form-group">
          <label for="download-file-url">File URL *</label>
          <input type="text" id="download-file-url" required>
        </div>
        <div class="admin-form-group">
          <label for="download-meta">Metadata</label>
          <input type="text" id="download-meta">
        </div>
        <div class="form-buttons">
          <button type="submit" class="admin-btn">Save</button>
          <button type="button" class="admin-btn secondary" id="publish-download">Save & Publish</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Login Modal -->
  <div class="login-modal" id="loginModal">
    <div class="login-form">
      <h2>Admin Login</h2>
      <div class="admin-form-group">
        <label for="login-username">Username</label>
        <input type="text" id="login-username">
      </div>
      <div class="admin-form-group">
        <label for="login-password">Password</label>
        <input type="password" id="login-password">
      </div>
      <div class="form-buttons">
        <button type="button" class="admin-btn" id="login-submit">Login</button>
        <button type="button" class="admin-btn secondary" id="login-cancel">Cancel</button>
      </div>
    </div>
  </div>

  <script>
    // LocalStorage helpers
    function getData() {
      return JSON.parse(localStorage.getItem("siteData")) || {projects:[], texts:[], downloads:[]};
    }
    function saveData(data) {
      localStorage.setItem("siteData", JSON.stringify(data));
    }

    // Renderers
    function renderProjects(projects) {
      const grid = document.querySelector(".portfolio-grid");
      grid.querySelectorAll(".dynamic-project").forEach(el => el.remove());
      projects.forEach((p, i) => {
        const item = document.createElement("div");
        item.className = "portfolio-item dynamic-project";
        item.innerHTML = `
          <div class="project-image clickable-project" data-project="p${i}">
            <img src="${p.image||'https://via.placeholder.com/600x400'}" alt="${p.title}">
            <div class="overlay"><h2>${p.title}</h2><p>${p.meta||''}</p><div class="click-hint">Click for details</div></div>
          </div>`;
        grid.appendChild(item);
        const modal=document.createElement("div");
        modal.id=`project-p${i}`;
        modal.className="project-detail"; modal.style.display="none";
        modal.innerHTML=`<div class="project-header"><h3>${p.title}</h3><button class="close-project">×</button></div>
          <div class="project-content"><p class="project-meta">${p.meta||''}</p><div class="project-description">${p.details||p.description}</div></div>`;
        document.body.appendChild(modal);
      });
      bindProjectModals();
    }
    function renderTexts(texts){
      const c=document.querySelector(".texts-list"); c.innerHTML="";
      texts.forEach(t=>{
        const d=document.createElement("div"); d.className="text-item";
        d.innerHTML=`<h3>${t.title}</h3><p class="meta">${t.meta||''}</p><div class="text-content"><p>${t.content}</p></div>`;
        d.addEventListener("click",()=>d.classList.toggle("active")); c.appendChild(d);
      });
    }
    function renderDownloads(downloads){
      const c=document.querySelector(".downloads-list"); c.innerHTML="";
      downloads.forEach(d=>{
        const div=document.createElement("div"); div.className="download-item";
        div.innerHTML=`<div><h3>${d.title}</h3><p class="meta">${d.meta||''}</p><p>${d.description||''}</p></div><a href="${d.file}" download class="download-btn">Download</a>`;
        c.appendChild(div);
      });
    }

    // Modals
    function bindProjectModals(){
      const overlay=document.querySelector(".project-overlay");
      document.querySelectorAll(".clickable-project").forEach(el=>{
        el.onclick=()=>{document.getElementById(`project-${el.dataset.project}`).style.display="block"; overlay.style.display="block";}
      });
      overlay.onclick=()=>{document.querySelectorAll(".project-detail").forEach(m=>m.style.display="none"); overlay.style.display="none";}
      document.querySelectorAll(".close-project").forEach(b=>b.onclick=overlay.onclick);
    }

    // Forms
    function setupForms(){
      const data=getData();
      document.getElementById("project-form").onsubmit=function(e){
        e.preventDefault();
        const p={title:project-title.value,description:project-description.value,meta:project-meta.value,image:project-image-url.value,details:project-details.value};
        data.projects.push(p); saveData(data); renderProjects(data.projects); this.reset();
      };
      document.getElementById("publish-project").onclick=()=>{document.getElementById("project-form").dispatchEvent(new Event("submit"));};

      document.getElementById("text-form").onsubmit=function(e){
        e.preventDefault();
        const t={title:text-title.value,content:text-content.value,meta:text-meta.value};
        data.texts.push(t); saveData(data); renderTexts(data.texts); this.reset();
      };
      document.getElementById("publish-text").onclick=()=>{document.getElementById("text-form").dispatchEvent(new Event("submit"));};

      document.getElementById("download-form").onsubmit=function(e){
        e.preventDefault();
        const d={title:download-title.value,description:download-description.value,file:download-file-url.value,meta:download-meta.value};
        data.downloads.push(d); saveData(data); renderDownloads(data.downloads); this.reset();
      };
      document.getElementById("publish-download").onclick=()=>{document.getElementById("download-form").dispatchEvent(new Event("submit"));};
    }

    // Init
    document.addEventListener("DOMContentLoaded",()=>{
      const d=getData(); renderProjects(d.projects); renderTexts(d.texts); renderDownloads(d.downloads);
      setupForms();

      // Admin login trigger
      if(location.hash==="#admin"){loginModal.classList.add("active");}
      login-submit.onclick=()=>{
        if(login-username.value==="eluce" && login-password.value==="SabrinaCarpenter"){
          loginModal.classList.remove("active"); adminPanel.style.display="block"; setTimeout(()=>adminPanel.classList.add("active"),10);
        } else alert("Invalid");
      };
      login-cancel.onclick=()=>{loginModal.classList.remove("active"); location.hash="";}
      document.querySelector(".close-admin").onclick=()=>{adminPanel.classList.remove("active"); setTimeout(()=>adminPanel.style.display="none",300);}
    });
  </script>
</body>
</html>
