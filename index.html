<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Eduardo Luce MArch</title>
  <style>
    body {margin:0;font-family:sans-serif;background:#f9f9f9;}
    header {background:#333;color:#fff;padding:1em;display:flex;justify-content:space-between;}
    nav ul {display:flex;list-style:none;margin:0;padding:0;}
    nav li {margin:0 0.5em;}
    nav a {color:#fff;text-decoration:none;}
    .container {padding:2em;}
    .portfolio-grid {display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1em;}
    .portfolio-item img {width:100%;border-radius:8px;}
    .project-detail {position:fixed;top:10%;left:50%;transform:translateX(-50%);width:80%;max-width:700px;background:#fff;padding:1em;border-radius:8px;z-index:200;display:none;box-shadow:0 2px 10px rgba(0,0,0,0.4);}
    .project-overlay {position:fixed;inset:0;background:rgba(0,0,0,0.6);display:none;z-index:150;}
    .close-project {float:right;cursor:pointer;}
    footer {text-align:center;padding:1em;background:#eee;margin-top:2em;}
    /* Admin panel */
    .admin-panel {position:fixed;top:0;right:-400px;width:400px;height:100%;background:#fff;box-shadow:-2px 0 6px rgba(0,0,0,0.2);z-index:300;transition:right 0.3s;padding:1em;overflow-y:auto;}
    .admin-panel.active {right:0;}
    .login-modal {position:fixed;inset:0;background:rgba(0,0,0,0.6);display:none;align-items:center;justify-content:center;z-index:400;}
    .login-modal.active {display:flex;}
    .login-form {background:#fff;padding:2em;border-radius:8px;width:300px;}
    .admin-btn {padding:0.5em 1em;margin:0.25em;cursor:pointer;border:none;border-radius:5px;background:#333;color:#fff;}
    .admin-btn.secondary {background:#777;}
  </style>
</head>
<body>
  <header>
    <div class="logo">Eduardo Luce MArch</div>
    <nav>
      <ul>
        <li><a href="#" data-section="portfolio">Portfolio</a></li>
        <li><a href="#" data-section="texts">Texts</a></li>
        <li><a href="#" data-section="downloads">Downloads</a></li>
        <li><a href="#" data-section="contact">Contact</a></li>
      </ul>
    </nav>
  </header>

  <div class="container">
    <section id="portfolio">
      <h1>Projects</h1>
      <div class="portfolio-grid"></div>
    </section>
    <section id="texts">
      <h1>Texts</h1>
      <div class="texts-list"></div>
    </section>
    <section id="downloads">
      <h1>Downloads</h1>
      <div class="downloads-list"></div>
    </section>
    <section id="contact">
      <h1>Contact</h1>
      <p>Email: eduardo.luce@example.com</p>
    </section>
  </div>

  <footer>Â© 2025 Eduardo Luce MArch</footer>

  <!-- Overlay -->
  <div class="project-overlay"></div>

  <!-- Admin Panel -->
  <div class="admin-panel" id="adminPanel">
    <h2>Admin Panel</h2>
    <button class="admin-btn" onclick="closeAdmin()">Close</button>

    <h3>Add Project</h3>
    <form id="project-form">
      <input id="project-title" placeholder="Title" required><br>
      <input id="project-meta" placeholder="Meta"><br>
      <input id="project-image" placeholder="Image URL"><br>
      <textarea id="project-desc" placeholder="Description"></textarea><br>
      <textarea id="project-details" placeholder="Details"></textarea><br>
      <button class="admin-btn" type="submit">Save</button>
      <button class="admin-btn secondary" type="button" id="publish-project">Save & Publish</button>
    </form>

    <h3>Add Text</h3>
    <form id="text-form">
      <input id="text-title" placeholder="Title" required><br>
      <input id="text-meta" placeholder="Meta"><br>
      <textarea id="text-content" placeholder="Content"></textarea><br>
      <button class="admin-btn" type="submit">Save</button>
      <button class="admin-btn secondary" type="button" id="publish-text">Save & Publish</button>
    </form>

    <h3>Add Download</h3>
    <form id="download-form">
      <input id="download-title" placeholder="Title" required><br>
      <input id="download-meta" placeholder="Meta"><br>
      <input id="download-file" placeholder="File URL"><br>
      <textarea id="download-desc" placeholder="Description"></textarea><br>
      <button class="admin-btn" type="submit">Save</button>
      <button class="admin-btn secondary" type="button" id="publish-download">Save & Publish</button>
    </form>
  </div>

  <!-- Login Modal -->
  <div class="login-modal" id="loginModal">
    <div class="login-form">
      <h2>Login</h2>
      <input id="login-username" placeholder="Username"><br><br>
      <input id="login-password" type="password" placeholder="Password"><br><br>
      <button class="admin-btn" id="login-btn">Login</button>
      <button class="admin-btn secondary" id="login-cancel">Cancel</button>
    </div>
  </div>

<script>
function getData(){return JSON.parse(localStorage.getItem("siteData"))||{projects:[],texts:[],downloads:[]};}
function saveData(d){localStorage.setItem("siteData",JSON.stringify(d));}

function renderProjects(list){
  const c=document.querySelector(".portfolio-grid");c.innerHTML="";
  list.forEach((p,i)=>{
    const d=document.createElement("div");d.className="portfolio-item";
    d.innerHTML=`<img src="${p.image||'https://via.placeholder.com/400'}"><h3>${p.title}</h3><p>${p.meta||''}</p>`;
    c.appendChild(d);
  });
}
function renderTexts(list){
  const c=document.querySelector(".texts-list");c.innerHTML="";
  list.forEach(t=>{c.innerHTML+=`<h3>${t.title}</h3><p>${t.meta||''}</p><p>${t.content}</p>`;});
}
function renderDownloads(list){
  const c=document.querySelector(".downloads-list");c.innerHTML="";
  list.forEach(d=>{c.innerHTML+=`<h3>${d.title}</h3><p>${d.meta||''}</p><a href="${d.file}" download>Download</a>`;});
}

function openAdmin(){document.getElementById("adminPanel").classList.add("active");}
function closeAdmin(){document.getElementById("adminPanel").classList.remove("active");}

document.addEventListener("DOMContentLoaded",()=>{
  const d=getData();renderProjects(d.projects);renderTexts(d.texts);renderDownloads(d.downloads);

  // Forms
  document.getElementById("project-form").onsubmit=e=>{
    e.preventDefault();const d=getData();
    d.projects.push({title:project-title.value,meta:project-meta.value,image:project-image.value,description:project-desc.value,details:project-details.value});
    saveData(d);project-form.reset();
  };
  publish-project.onclick=()=>{project-form.requestSubmit();renderProjects(getData().projects);};

  document.getElementById("text-form").onsubmit=e=>{
    e.preventDefault();const d=getData();
    d.texts.push({title:text-title.value,meta:text-meta.value,content:text-content.value});
    saveData(d);text-form.reset();
  };
  publish-text.onclick=()=>{text-form.requestSubmit();renderTexts(getData().texts);};

  document.getElementById("download-form").onsubmit=e=>{
    e.preventDefault();const d=getData();
    d.downloads.push({title:download-title.value,meta:download-meta.value,file:download-file.value,description:download-desc.value});
    saveData(d);download-form.reset();
  };
  publish-download.onclick=()=>{download-form.requestSubmit();renderDownloads(getData().downloads);};

  // Admin login
  if(location.hash==="#admin"){document.getElementById("loginModal").classList.add("active");}
  login-btn.onclick=()=>{
    if(login-username.value==="eluce"&&login-password.value==="SabrinaCarpenter"){
      loginModal.classList.remove("active");openAdmin();
    }else alert("Invalid");
  };
  login-cancel.onclick=()=>{loginModal.classList.remove("active");location.hash="";}
});
</script>
</body>
</html>
